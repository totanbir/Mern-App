{"ast":null,"code":"import Axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nimport * as Types from './types';\nexport const register = (user, history) => dispatch => {\n  Axios.post('/api/users/register', user).then(res => {\n    dispatch({\n      type: Types.USERS_ERROR,\n      payload: {\n        error: {}\n      }\n    });\n    console.log(res);\n    history.push('/login');\n  }).catch(error => {\n    dispatch({\n      type: Types.USERS_ERROR,\n      payload: {\n        error: error.response.data\n      }\n    });\n  });\n};\nexport const login = (user, history) => dispatch => {\n  Axios.post('/api/users/login', user).then(res => {\n    let token = res.data.token;\n    localStorage.setItem('auth_token', token);\n    let decode = jwtDecode(token);\n    dispatch({\n      type: Types.SET_USER,\n      payload: {\n        user: decode\n      }\n    });\n    history.push('/');\n  }).catch(error => {\n    console.log(error.response.data);\n    dispatch({\n      type: Types.USERS_ERROR,\n      payload: {\n        error: error.response.data\n      }\n    });\n  });\n};","map":{"version":3,"sources":["/var/www/html/marn-apps/client/src/store/actions/authActions.js"],"names":["Axios","jwtDecode","Types","register","user","history","dispatch","post","then","res","type","USERS_ERROR","payload","error","console","log","push","catch","response","data","login","token","localStorage","setItem","decode","SET_USER"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,KAAZ,MAAuB,SAAvB;AAGA,OAAO,MAAMC,QAAQ,GAAG,CAACC,IAAD,EAAOC,OAAP,KAAmBC,QAAQ,IAAI;AACnDN,EAAAA,KAAK,CAACO,IAAN,CAAW,qBAAX,EAAkCH,IAAlC,EACKI,IADL,CACWC,GAAD,IAAS;AACXH,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAER,KAAK,CAACS,WADP;AAELC,MAAAA,OAAO,EAAE;AACLC,QAAAA,KAAK,EAAE;AADF;AAFJ,KAAD,CAAR;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AACAJ,IAAAA,OAAO,CAACW,IAAR,CAAa,QAAb;AACH,GAVL,EAWKC,KAXL,CAWWJ,KAAK,IAAI;AACZP,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAER,KAAK,CAACS,WADP;AAELC,MAAAA,OAAO,EAAE;AACLC,QAAAA,KAAK,EAAEA,KAAK,CAACK,QAAN,CAAeC;AADjB;AAFJ,KAAD,CAAR;AAMH,GAlBL;AAmBH,CApBM;AAsBP,OAAO,MAAMC,KAAK,GAAG,CAAChB,IAAD,EAAOC,OAAP,KAAmBC,QAAQ,IAAI;AAChDN,EAAAA,KAAK,CAACO,IAAN,CAAW,kBAAX,EAA+BH,IAA/B,EACCI,IADD,CACMC,GAAG,IAAI;AACT,QAAIY,KAAK,GAAGZ,GAAG,CAACU,IAAJ,CAASE,KAArB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCF,KAAnC;AACA,QAAIG,MAAM,GAAGvB,SAAS,CAACoB,KAAD,CAAtB;AAEAf,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAER,KAAK,CAACuB,QADP;AAELb,MAAAA,OAAO,EAAE;AACLR,QAAAA,IAAI,EAAEoB;AADD;AAFJ,KAAD,CAAR;AAMAnB,IAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACH,GAbD,EAcCC,KAdD,CAcOJ,KAAK,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACK,QAAN,CAAeC,IAA3B;AACAb,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAER,KAAK,CAACS,WADP;AAELC,MAAAA,OAAO,EAAE;AACLC,QAAAA,KAAK,EAAEA,KAAK,CAACK,QAAN,CAAeC;AADjB;AAFJ,KAAD,CAAR;AAMH,GAtBD;AAuBH,CAxBM","sourcesContent":["import Axios from 'axios'\nimport jwtDecode from 'jwt-decode'\nimport * as Types from './types'\n\n\nexport const register = (user, history) => dispatch => {\n    Axios.post('/api/users/register', user)\n        .then((res) => {\n            dispatch({\n                type: Types.USERS_ERROR,\n                payload: {\n                    error: {}\n                }\n            })\n            console.log(res)\n            history.push('/login')\n        })\n        .catch(error => {\n            dispatch({\n                type: Types.USERS_ERROR,\n                payload: {\n                    error: error.response.data\n                }\n            })\n        })\n}\n\nexport const login = (user, history) => dispatch => {\n    Axios.post('/api/users/login', user)\n    .then(res => {\n        let token = res.data.token\n        localStorage.setItem('auth_token', token)\n        let decode = jwtDecode(token)\n        \n        dispatch({\n            type: Types.SET_USER,\n            payload: {\n                user: decode\n            }\n        })\n        history.push('/')\n    })\n    .catch(error => {\n        console.log(error.response.data)\n        dispatch({\n            type: Types.USERS_ERROR,\n            payload: {\n                error: error.response.data\n            }\n        })\n    })\n}"]},"metadata":{},"sourceType":"module"}